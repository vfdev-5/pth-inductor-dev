import numpy as np
import cv2


x = np.array([
    [ 12.,  13.,  14.,  15.,  16.,  17.,  18.,  19.],
    [ 60.,  61.,  62.,  63.,  64.,  65.,  66.,  67.],
    [108., 109., 110., 111., 112., 113., 114., 115.],
    [156., 157., 158., 159., 160., 161., 162., 163.],
    [204., 205., 206., 207., 208., 209., 210., 211.],
    [252., 253., 254., 255.,   0.,   1.,   2.,   3.],
    [ 44.,  45.,  46.,  47.,  48.,  49.,  50.,  51.],
    [ 92.,  93.,  94.,  95.,  96.,  97.,  98.,  99.]
], dtype="uint8")

output = cv2.resize(x, (4, 4), interpolation=cv2.INTER_CUBIC)

print(output)


# array([[ 32,  32,  34,  34,  36,  36,  38,  38],
#        [132, 133, 134, 135, 136, 137, 138, 139],
#        [252, 253, 254, 255, 104, 105, 106, 107],
#        [ 48,  50,  50,  52,  76,  78,  78,  80]], dtype=uint8)

# [[ 32  34  36  38]
#  [132 134 136 139]
#  [252 255  90 107]
#  [ 49  49  79  79]]

# output: tensor([[[[ 32,  33,  34,  35,  36,  37,  38,  39],
#           [132, 133, 134, 135, 136, 137, 138, 139],
#           [252, 253, 254, 255, 104, 105, 106, 107],
#           [ 49,  50,  51,  52,  77,  78,  79,  80]]]], dtype=torch.uint8)
# expected: tensor([[[[ 30,  31,  32,  33,  34,  35,  36,  37],
#           [132, 133, 134, 135, 136, 137, 138, 139],
#           [252, 253, 254, 255, 104, 105, 106, 107],
#           [ 52,  53,  54,  55,  78,  79,  80,  81]]]], dtype=torch.uint8)
# expected_f: tensor([[[[ 32,  32,  34,  34,  36,  36,  38,  38],
#           [132, 133, 134, 135, 136, 137, 138, 139],
#           [252, 253, 254, 255, 104, 105, 106, 107],
#           [ 48,  50,  50,  52,  76,  78,  78,  80]]]], dtype=torch.uint8)

# output: tensor([[[[ 32,  35,  37,  39],
#           [132, 135, 137, 139],
#           [252, 255, 104, 107],
#           [ 49,  52,  78,  80]]]], dtype=torch.uint8)
# expected: tensor([[[[ 30,  33,  35,  37],
#           [132, 135, 137, 139],
#           [252, 255, 104, 107],
#           [ 52,  55,  79,  81]]]], dtype=torch.uint8)
# expected_f: tensor([[[[ 32,  34,  36,  38],
#           [132, 134, 136, 139],
#           [252, 255,  90, 107],
#           [ 49,  49,  79,  79]]]], dtype=torch.uint8)